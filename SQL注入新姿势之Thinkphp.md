**前言**<br />平时我们挖洞遇到的SQL注入都是在参数后面添加引号发现报错，但是很少人去测试路径中比如/1.html中的参数1，今天倒是终于让我遇到了<br />**一起来看一下**<br />首先，访问的链接是：http://localhost:8080/id/325.html，此时页面正常回显<br />然后好奇的态度在325后面加了个单引号，哎报错了！SQL注入这不就来了吗，而且是Thinkphp3.2.3<br />![68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032342f706e672f33343436373338332f313731343130363938393630322d61393632643237632d666533312d346533312d623934312d3465633432333134346264612e706e6723617665726167654875653d2_convert.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714293116641-ac7b92ca-06cf-45b2-84c7-9f3b7792b56a.png#averageHue=%23f8f7f7&clientId=uca6d195a-c763-4&from=paste&height=636&id=u9a8aed56&originHeight=1050&originWidth=1876&originalType=binary&ratio=1.6500000953674316&rotation=0&showTitle=false&size=446865&status=done&style=none&taskId=ua14f94bb-9755-4ba0-8059-613f4e66713&title=&width=1136.969631254622)<br />发现报错首先是去找闭合，单引号报错，两个还是一样的报错<br />仔细查看报错提示，发现存在一个右括号，所以闭合肯定是有括号的<br />构造payload：/id/325)and('a'='a'.html<br />正常回显，那下一步肯定是'a'='b![image.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714107026166-176faebe-bf0d-4f17-a5ea-23b1368afecc.png#averageHue=%23c3c3c0&clientId=u9bd6feb3-4143-4&from=paste&height=166&id=u263a9d79&originHeight=249&originWidth=1771&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=158222&status=done&style=none&taskId=ua7a28976-9a19-40f2-aa55-07b1c2a3425&title=&width=1180.6666666666667)<br />也正常回显<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714100597084-06a390d8-1e53-4bd3-ab49-5786cb0d5573.png#averageHue=%23b4b5b1&clientId=u21db6f9f-a620-4&from=paste&height=211&id=u5e0d176b&originHeight=316&originWidth=2559&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=54068&status=done&style=none&taskId=u7790239b-9e5a-4cce-a804-84351b46989&title=&width=1706)<br />**不过没关系，既然有报错，那肯定存在注入，利用工具检测一波**<br />没检测出来（后面试了sqlmap也不行）<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714100848065-7403cf23-4e0d-4276-be41-b4df65a47a6a.png#averageHue=%23f8f8f8&clientId=u21db6f9f-a620-4&from=paste&height=652&id=ue96dcc5a&originHeight=978&originWidth=1311&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=114481&status=done&style=none&taskId=u64c5a80e-a96e-42b3-9961-98c5460615f&title=&width=874)<br />那就继续手注，既然正常闭合了，那就改一下后面括号里的就行了<br />**直接上报错注入**<br />函数不存在，没关系，换一个<br />![68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032342f706e672f33343436373338332f313731343130303939393232372d36633736383366302d366365642d346563392d613935612d3337633030376430383363362e706e672361766572616765487565_convert.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714293184788-c04de75c-0855-4e86-825e-227a28865487.png#averageHue=%23fafafa&clientId=uca6d195a-c763-4&from=paste&height=933&id=u1aca8623&originHeight=1539&originWidth=2559&originalType=binary&ratio=1.6500000953674316&rotation=0&showTitle=false&size=737139&status=done&style=none&taskId=u2b5d16a1-ea0d-47bd-bc32-2b0e932a0c9&title=&width=1550.9090012689649)<br />哎成功了<br />![68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032342f706e672f33343436373338332f313731343130313037393031332d30646631336434372d316161632d343036622d613430652d6630356439343235333033322e706e672361766572616765487565_convert.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714293161225-0b2267c7-7cb0-4d55-bbea-3be8d0bb46ac.png#averageHue=%23fbfbfa&clientId=uca6d195a-c763-4&from=paste&height=933&id=u0cdfb0ff&originHeight=1539&originWidth=2559&originalType=binary&ratio=1.6500000953674316&rotation=0&showTitle=false&size=700603&status=done&style=none&taskId=uba14d3bd-e211-4941-859a-b254950357b&title=&width=1550.9090012689649)<br />小小注入，拿下拿下！

**闲来无事，继续找找思路**<br />因为平时遇到注入都是?id=1的格式<br />然后就去改了一下<br />正常回显，哎还真可以![image.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714107111364-2eef6286-bbd0-4792-b3ae-bc805d49fe5a.png#averageHue=%23969793&clientId=u9bd6feb3-4143-4&from=paste&height=209&id=u1ab7f285&originHeight=313&originWidth=1770&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=61633&status=done&style=none&taskId=u73d0a985-a036-4ac9-9914-8ef1561f28c&title=&width=1180)<br />加个引号试试<br />![微信截图_20240428162845.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714293250139-7c10a73d-dd49-44e0-ba86-1b85a790112d.png#averageHue=%23f8f8f8&clientId=uca6d195a-c763-4&from=paste&height=417&id=u3f3ccc0c&originHeight=625&originWidth=1161&originalType=binary&ratio=1.6500000953674316&rotation=0&showTitle=false&size=254907&status=done&style=none&taskId=udfbf5a9c-1229-44a2-a487-5e1fdb64092&title=&width=774)<br />那么同样利用报错注入，拿下！<br />![微信截图_20240428163028.png](https://cdn.nlark.com/yuque/0/2024/png/34467383/1714293219895-9e063414-915c-498f-8ccc-64cb705879ff.png#averageHue=%23f8f8f8&clientId=uca6d195a-c763-4&from=paste&height=410&id=ub12d464c&originHeight=676&originWidth=1270&originalType=binary&ratio=1.6500000953674316&rotation=0&showTitle=false&size=209492&status=done&style=none&taskId=ud8a5cabb-45f6-44e1-8985-b7fa4fae6a6&title=&width=769.6969252096856)
